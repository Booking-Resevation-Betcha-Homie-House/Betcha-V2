<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Register Back Button Debug</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-50 p-8">
    <div class="max-w-md mx-auto bg-white p-6 rounded-lg shadow-lg">
        <h1 class="text-2xl font-bold mb-6">Register Back Button Debug</h1>
        
        <div class="space-y-4">
            <button onclick="testStep2Back()" class="w-full bg-blue-500 text-white py-2 px-4 rounded">
                Test Step 2 Back Button (goToStep1)
            </button>
            <button onclick="testStep3Back()" class="w-full bg-green-500 text-white py-2 px-4 rounded">
                Test Step 3 Back Button (goBackToStep2)
            </button>
            <button onclick="checkFunctions()" class="w-full bg-gray-500 text-white py-2 px-4 rounded">
                Check if Functions Exist
            </button>
        </div>

        <div id="results" class="mt-6 p-4 bg-gray-100 rounded"></div>
    </div>

    <script>
        // Load the register page functions
        const script = document.createElement('script');
        script.src = '../pages/unauth/unauthFunctions/registerPage-functions.js';
        script.defer = true;
        document.head.appendChild(script);

        function testStep2Back() {
            const result = document.getElementById('results');
            try {
                if (typeof window.goToStep1 === 'function') {
                    result.innerHTML = '<p class="text-green-600">✅ goToStep1 function exists and is callable</p>';
                    // Test calling it (won't work fully without the HTML elements)
                    window.goToStep1();
                } else {
                    result.innerHTML = '<p class="text-red-600">❌ goToStep1 function not found</p>';
                }
            } catch (error) {
                result.innerHTML = '<p class="text-red-600">❌ Error calling goToStep1: ' + error.message + '</p>';
            }
        }

        function testStep3Back() {
            const result = document.getElementById('results');
            try {
                if (typeof window.goBackToStep2 === 'function') {
                    result.innerHTML = '<p class="text-green-600">✅ goBackToStep2 function exists and is callable</p>';
                    // Test calling it (won't work fully without the HTML elements)
                    window.goBackToStep2();
                } else {
                    result.innerHTML = '<p class="text-red-600">❌ goBackToStep2 function not found</p>';
                }
            } catch (error) {
                result.innerHTML = '<p class="text-red-600">❌ Error calling goBackToStep2: ' + error.message + '</p>';
            }
        }

        function checkFunctions() {
            const result = document.getElementById('results');
            const functions = ['goToStep1', 'goToStep2', 'goToStep3', 'goBackToStep2'];
            let output = '<h3 class="font-bold mb-2">Function Check:</h3>';
            
            functions.forEach(func => {
                const exists = typeof window[func] === 'function';
                output += `<p class="${exists ? 'text-green-600' : 'text-red-600'}">${exists ? '✅' : '❌'} ${func}: ${typeof window[func]}</p>`;
            });
            
            result.innerHTML = output;
        }

        // Check functions after a delay to allow script loading
        setTimeout(checkFunctions, 1000);
    </script>
</body>
</html>
